<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link href="https://unpkg.com/layui@2.7.6/dist/css/layui.css" rel="stylesheet">
    <script src="https://unpkg.com/jquery@3.6.4/dist/jquery.min.js"></script>
    <script src="https://unpkg.com/layui@2.7.6/dist/layui.js"></script>
    <title>在线订阅转换</title>
</head>

<body>
    <header>
        <h1>在线订阅转换</h1>
    </header>
    <div class="layui-form form" lay-filter="optionsForm">
        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label required">原链接:</label>
            <div class="layui-input-block">
                <textarea name="url" lay-filter="url" required lay-verify="required"
                    placeholder="支持订阅或ss/ssr/vmess/vless等链接，多个链接每行一个或用 | 分隔" class="layui-textarea"></textarea>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label required">客户端类型:</label>
            <div class="layui-input-block">
                <select name="target" id="targetSelecter" required lay-verify="required" lay-filter="target"></select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">外部配置:</label>
            <div class="layui-input-block">
                <select name="config" id="configSelecter" lay-filter="config">
                    <option value="">不选择，由接口提供方提供</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label required">后端地址:</label>
            <div class="layui-input-block">
                <select name="backend" id="backendSelecter" required lay-verify="required"
                    lay-filter="backend"></select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">包含关键字:</label>
            <div class="layui-input-block">
                <input type="text" name="include" lay-filter="include" placeholder="节点名包含的关键字，支持正则" autocomplete="off"
                    class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">排除关键字:</label>
            <div class="layui-input-block">
                <input type="text" name="exclude" lay-filter="exclude" placeholder="节点名不包含的关键字，支持正则" autocomplete="off"
                    class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">转换文件名:</label>
            <div class="layui-input-block">
                <input type="text" name="name" lay-filter="name" placeholder="链接返回的订阅文件名" autocomplete="off"
                    class="layui-input">
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">启用Emoji:</label>
            <div class="layui-input-block">
                <input type="checkbox" name="emoji" lay-filter="emoji" value="true" lay-skin="switch" lay-text="ON|OFF"
                    checked>
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">显示节点类型:</label>
            <div class="layui-input-block">
                <input type="checkbox" name="append_type" lay-filter="append_type" value="true" lay-skin="switch"
                    lay-text="ON|OFF" checked>
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">包含信息节点</label>
            <div class="layui-input-block">
                <input type="checkbox" name="append_info" lay-filter="append_info" value="true" lay-skin="switch"
                    lay-text="ON|OFF" checked>
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">跳过TLS验证:</label>
            <div class="layui-input-block">
                <input type="checkbox" name="scv" lay-filter="scv" value="true" lay-skin="switch" lay-text="ON|OFF">
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">启用UDP</label>
            <div class="layui-input-block">
                <input type="checkbox" name="udp" lay-filter="udp" value="true" lay-skin="switch" lay-text="ON|OFF">
            </div>
        </div>
        <!-- <div class="layui-form-item inline">
            <label class="layui-form-label">TCP Fast Open</label>
            <div class="layui-input-block">
                <input type="checkbox" name="tfo" lay-skin="switch" lay-text="ON|OFF">
            </div>
        </div> -->
        <div class="layui-form-item inline">
            <label class="layui-form-label">Node List:</label>
            <div class="layui-input-block">
                <input type="checkbox" name="list" lay-filter="list" value="true" lay-skin="switch" lay-text="ON|OFF">
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">节点二次排序</label>
            <div class="layui-input-block">
                <input type="checkbox" name="sort" lay-filter="sort" value="true" lay-skin="switch" lay-text="ON|OFF">
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">过滤非法节点</label>
            <div class="layui-input-block">
                <input type="checkbox" name="fdn" lay-filter="fdn" value="true" lay-skin="switch" lay-text="ON|OFF">
            </div>
        </div>
        <div class="layui-form-item inline">
            <label class="layui-form-label">插入insert_url</label>
            <div class="layui-input-block">
                <input type="checkbox" name="insert" lay-filter="fdn" value="true" lay-skin="switch" lay-text="ON|OFF">
            </div>
        </div>
        <div class="layui-form-item form-footer">
            <div class="layui-input-block">
                <button class="layui-btn button" lay-submit lay-filter="generate">生成新订阅链接</button>
                <button class="layui-btn button" id="importToClash">一键导入Clash</button>
            </div>
        </div>
    </div>
    <hr>
    <div class="form">
        <div class="layui-form-item layui-form-text result">
            <label class="layui-form-label">新订阅链接:</label>
            <div class="layui-input-block">
                <textarea id="result" placeholder="新的订阅链接将显示在这里" class="layui-textarea"></textarea>
            </div>
        </div>
    </div>
</body>

</html>
